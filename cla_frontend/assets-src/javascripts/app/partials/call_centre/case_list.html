<div data-extend-template="case_list.html">
  <div data-block="header">
    <h1 class="u-pullLeft">
      <span ng-hide="person.reference">
        <span ng-show="searchParams.search">
          Results for <button class="Button Button--secondary Icon--cross Icon--right search-term" ng-click="resetSearch()">{{searchParams.search}}</button>
        </span>
        <span ng-hide="searchParams.search">Cases</span>
      </span>

      <span ng-show="person.reference">
        Cases for <button class="Button Button--secondary search-person" ng-click="backToLatestSearch()"><span class="Icon--cross Icon--right">{{ person.full_name }} <span ng-show="person.postcode">({{ person.postcode }})</span></span> 
      </span>
    </h1>
  </div>

  <div data-block="top-actions">
    <form name="newCaseForm" class="newCaseForm">
      <span ng-show="person.reference">
        <button id="create_case" type="button" class="BlockLink BlockLink--add" ng-click="addCase(person.reference)">Create a case for {{ person.full_name }}</button>
      </span>
      <span ng-hide="person.reference">
        <button id="create_case" type="button" class="BlockLink BlockLink--add" ng-click="addCase()">Create a case</button>
      </span>
    </form>
  </div>

  <span data-block="pd-column">
    <span ng-hide="person.reference">
      <a href="" ng-click="filterByPerson(case.personal_details)">{{ case.full_name }}</a>
      <span ng-show="case.case_count > 1">({{ case.case_count }})</span>
    </span>
    <span ng-show="person.reference">{{ case.full_name }}</span>
  </span>

</div>