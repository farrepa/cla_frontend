<header class="CaseBar Grid" sticky use-placeholder>
  <div class="Grid-row">
    <div class="Grid-col Grid-col--1-5">
      <h1 class="CaseBar-caseNum Icon Icon--folder">
        <a ui-sref="case_detail.edit">
          {{ ::case.reference }}
        </a>
      </h1>
    </div>
    <div class="Grid-col Grid-col--4-5">
      <p class="Icon Icon--alert Icon--orange u-pullLeft" ng-if="peopleViewingCase.length > 0"><strong>{{ peopleViewingCase|join }}</strong> {{ peopleViewingCase.length === 1 ? 'is' : 'are' }} also currently viewing this case</p>
      <span data-block="case-actions"></span>
      <timer base-time="case.billable_time"></timer>
    </div>
  </div>
  <div class="Grid-row">
    <div class="Notice warning ng-cloak" ng-if="case.getCallbackDatetime()">
      <strong>Callback scheduled for {{ case.getCallbackDatetime()|date:"dd/MM/yyyy HH:mm" }}</strong>
      <button class="Button Button--secondary }}" type="button" ng-really-message="Please only use this action if you managed to speak with the client. If you want to reschedule or cancel the callback use Close/Callback instead. Do you wish to continue?" ng-really-click="completeCallback()" ng-controller="CompleteCallbackCtrl">Stop callback</button>
    </div>
  </div>
</header>

<div class="Grid">
  <div class="Grid-row">
    <div class="Grid-col Grid-col--1-5">
      <nav class="SubNav">
        <a ui-sref="case_list(caseListStateParams)" class="SubNav-link SubNav-link--back">Back to cases</a>
      </nav>
      <div ui-view="personalDetails"></div>
    </div>

    <div class="Grid-col Grid-col--3-5" ui-view full-height data-centre-col></div>

    <div class="Grid-col Grid-col--1-5 Grid-col--bg-colour Guidance-buffer">
      <div class="Grid-colInner">
        <div ui-view="outcome"></div>
        <div ui-view="feedback"></div>
      </div>
    </div>
  </div>
</div>
