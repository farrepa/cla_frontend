<ul class="CaseHistory" ng-controller="LogListCtrl">
  <li class="CaseHistory-card" ng-repeat="logList in logSet">
    <span>
      <timestamp ng-model="logList[0].created"></timestamp> 
      ({{ logList[0].created_by }})
    </span>

    <ul class="CaseHistory-log">
      <li class="CaseHistory-logItem cf" ng-repeat="log in logList">
        <span class="CaseHistory-label" ng-show="log.type == 'outcome'">{{ log.code }}</span>
        
        <details ng-show="log.code === 'MT_CHANGED'">
          <summary role="button">Means test changed</summary>
          <span class="CaseHistory-logItemNotes CaseHistory-logItemNotes--indent">{{ log.notes }}</span>
        </details>

        <details ng-show="log.code === 'MT_CREATED'">
          <summary role="button">Means test created</summary>
          <span class="CaseHistory-logItemNotes CaseHistory-logItemNotes--indent">{{ log.notes }}</span>
        </details>

        <div ng-show="log.code === 'DIAGNOSIS_DELETED'">
          <a href="" ng-click="showDiagnosisSummary(log)">Diagnosis deleted</a>
        </div>

        <div ng-show="log.code === 'DIAGNOSIS_CREATED'">
          <a href="" ng-click="showDiagnosisSummary(log)">Diagnosis created</a>
        </div>

        <span class="CaseHistory-logItemNotes" ng-if="log.notes" ng-show="log.code !== 'MT_CREATED' && log.code !== 'MT_CHANGED'">{{ log.notes }}</span>

      </li>
    </ul>
  </li>
</ul>
