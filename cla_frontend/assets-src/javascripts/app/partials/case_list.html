<header class="PageHeader cf" ng-class="{'PageHeader--wo-search': !search}">
  <div data-block="header">
    <h1 class="u-pullLeft">
      <span ng-show="searchParams.search">
        Results for <span class="Button Button--secondary Icon--cross Icon--right search-term" ng-click="resetSearch()">{{searchParams.search}}</span>
      </span>
      <span ng-hide="searchParams.search">Cases</span>
    </h1>
  </div>
  <div data-block="top-actions"></div>
</header>

<div data-block="case-list">
  <table class="ListTable" cellpadding="0" cellspacing="0" border="0" width="100%">
    <thead>
    <tr>
      <th width="15%"><span class="visuallyhidden">Reference</span></th>
      <th width="20%"><a href="" ng-click="sortToggle('personal_details__full_name')" ng-class="sortClass('personal_details__full_name')">Name</a></th>
      <th width="11%"><a href="" ng-click="sortToggle('personal_details__postcode')" ng-class="sortClass('personal_details__postcode')">Postcode</a></th>
      <th width="14%"><a href="" ng-click="sortToggle('personal_details__date_of_birth')" ng-class="sortClass('personal_details__date_of_birth')">Date of Birth</a></th>
      <th width="24%"><a href="" ng-click="sortToggle('eligibility_check__category__name')" ng-class="sortClass('eligibility_check__category__name')">Category of Law</a></th>
      <th width="16%"><a href="" ng-click="sortToggle('modified')" ng-class="sortClass('modified')">Modified</a></th>
    </tr>
    </thead>
    <tbody>
      <tr dir-paginate="case in cases.results | itemsPerPage: 20" total-items="cases.count" current-page="searchParams.page" ng-class="{'is-rejected': case.rejected}">
        <td>
          <a href="" ng-click="goToCase(case.reference)">{{ case.reference }}</a>
          <span ng-show="case.isInScopeAndEligible()"> / {{ case.laa_reference }}</span>
        </td>
        <td><span data-block="pd-column">{{ case.full_name }}</span></td>
        <td>{{ case.postcode }}</td>
        <td>{{ case.date_of_birth|date:'dd/MM/yyyy' }}</td>
        <td>{{ case.category }}</td>
        <td>
          <span am-time-ago="case.modified"></span>
          <br>
          <small>{{ case.modified|date:'MMM d, y, h:mma' }}</small>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<dir-pagination-controls on-page-change="pageChanged(newPageNumber)" data-boundary-links="true"></dir-pagination-controls>
