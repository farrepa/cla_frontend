<div class="Grid">
  <div class="Grid-row">
    <div class="Grid-col Grid-col--1-2">
      <table cellpadding="0" cellspacing="4" border="0" width="100%" class="CallbackMatrix">
        <thead>
          <th width="5%"></th>
          <th ng-repeat="day in days" class="CallbackMatrix-th" width="{{ 95 / days.length}}%" ng-class="{'CallbackMatrix-th--unavailable': day.day === 7}">{{ day.text }}</th>
        </thead>
        <tbody>
          <tr ng-repeat="time in times">
            <th class="CallbackMatrix-th" align="right">{{ time.text }}</th>
            <td
              ng-repeat="day in days"
              class="CallbackMatrix-cell"
              ng-class="{'CallbackMatrix-cell--unavailable': day.day === 7 || day.day === 6 && time.hour > 12, 'CallbackMatrix-cell--empty': getSlot(day.day, time.hour) === undefined}"
              data-slot="{day: {{ day.day }}, time: {{ time.hour }}}">
              <svg height="100%" width="100%" ng-if="getSlot(day.day, time.hour) === undefined" class="CallbackMatrix-cellCross">
                <line x1="0" y1="0" x2="100%" y2="100%" />
                <line x1="100%" y1="0" x2="0" y2="100%" />
              </svg>
              <callback-matrix-slot class="CallbackMatrix-slot" max="max" min="min" callback-slot="getSlot(day.day, time.hour)" ng-click="showSlotCases($event, day.day, time.hour)"></callback-matrix-slot>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <td></td>
          <td colspan="{{ days.length }}">
            <div class="CallbackMatrix-legend cf u-pullRight">
              <span class="CallbackMatrix-legendLabel">Less</span>
              <span class="CallbackMatrix-legendItem CallbackMatrix-density CallbackMatrix-density--1"></span>
              <span class="CallbackMatrix-legendItem CallbackMatrix-density CallbackMatrix-density--2"></span>
              <span class="CallbackMatrix-legendItem CallbackMatrix-density CallbackMatrix-density--3"></span>
              <span class="CallbackMatrix-legendItem CallbackMatrix-density CallbackMatrix-density--4"></span>
              <span class="CallbackMatrix-legendItem CallbackMatrix-density CallbackMatrix-density--5"></span>
              <span class="CallbackMatrix-legendLabel">More</span>
            </div>
          </td>
        </tfoot>
      </table>

    </div>
    <div class="Grid-col Grid-col--1-2">
      <p class="CallbackMatrix-placeholder" ng-hide="slotsCases.length > 0">Select a timeslot from the grid to see cases scheduled for that hour.</p>

      <table class="ListTable" cellpadding="0" cellspacing="0" border="0" width="100%" ng-show="slotsCases.length > 0">
        <thead>
          <tr>
            <th width="5%"></th>
            <th width="35%">Case</th>
            <th width="35%">Name</th>
            <th width="15%">Time</th>
            <th width="10%"></th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="case in slotsCases">
            <td>
              <abbr title="{{ ::case.source }} CASE" class="Icon {{ ::opCaseClass(case) }}"></abbr>
            </td>
            <td>
              <a href="" ng-click="$parent.goToCase(case.reference)">{{ ::case.reference }}</a>
              <span ng-if="case.isInScopeAndEligible()"> / {{ ::case.laa_reference }}</span>
            </td>
            <td>
              <span data-block="pd-column">{{ ::case.full_name }}</span>
            </td>
            <td>{{ ::case.requires_action_at | date:"h:mma" }}</td>
            <td>
              <span class="Label Label--secondary" ng-if="case.outcome_code">{{ ::case.outcome_code }}</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
